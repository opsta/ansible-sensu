---
sensu_search_config_path: "{{ playbook_dir }}/files/groups/{{ item }}/sensu"
sensu_search_config_paths: []

sensu_host_config_file_path: "{{ sensu_host_config_path | default(inventory_hostname) }}/server.conf.j2"
sensu_config_base_path: /etc/sensu
sensu_config_path: /etc/sensu/conf.d
sensu_config_file_path: /etc/sensu/config.json

# AIO
sensu_all_in_one: false

# Service name
sensu_server_service_name: sensu-server
sensu_api_service_name: sensu-api
sensu_client_service_name: sensu-client

# RabbitMQ settings
sensu_rabbitmq_host: localhost
sensu_rabbitmq_port: 5671
sensu_rabbitmq_vhost: /sensu
sensu_rabbitmq_username: rabbitmq
sensu_rabbitmq_password: CHANGEME
sensu_rabbitmq_ssl: false
sensu_rabbitmq_cert_file: "{{ sensu_config_base_path }}/ssl/cert.pem"
sensu_rabbitmq_key_file: "{{ sensu_config_base_path }}/ssl/key.pem"

# Redis settings
sensu_redis_host: localhost
sensu_redis_port: 6379
sensu_redis_password: CHANGEME
sensu_redis_sentinels: []
sensu_redis_master_name: ""

# Sensu API
sensu_api_host: localhost
sensu_api_port: 4567
sensu_api_user_name: ""
sensu_api_password: ""

# Sensu client
sensu_client_name: sensu-client
sensu_client_address: localhost
sensu_client_subscriptions: []
sensu_client_keepalive_handlers: []
sensu_client_keepalive_thresholds:
  warning: 70
  critical: 90
sensu_client_safe_mode: false

# Sensu handlers
sensu_handlers:
  default:
    type: set
    handlers: 
      - stdout
      - slack
  slack:
    type: pipe
    command: handler-slack.rb
    severities:
      - critical
      - ok
    filters: []

sensu_handler_plugins: {}
  ## Example
  # slack:
  #   webhook_url: https://hooks.slack.com/services/sample
  #   dashboard: "http://uchiwa.example.com/#/client/$DataCenter/"
  #   channel: "#general"
  #   icon_url: https://raw.githubusercontent.com/sensu/sensu-logo/master/sensu1_flat%20white%20bg_png.png
  #   icon_emoji: ":snowman:"

# Sensu filters
sensu_filters: {}
  ## Example
  # check_state:
  #   negate: false
  #   attributes:
  #     action: "eval: %w(create resolve).include? value.to_s",
  #     occurrences: "eval: value != 1 || value % 5 == 0 ||':::action:::' == 'create'"

# Sensu checks
checks:
  - name: check_test
